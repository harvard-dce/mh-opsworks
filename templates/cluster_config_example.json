{
  "region": "us-east-1",
  "vpc": {
    "name": "FILL_ME_IN",
    "cidr_block": "FILL_ME_IN",
    "_cidr_block_comment": "10.1.1.0/24 gives you 10.1.1.0-255"
  },
  "stack": {
    "name": "FILL_ME_IN",
    "service_role": {
      "name": "mh-opsworks-cluster-service-role"
    },
    "chef": {
      "custom_json": {},
      "custom_cookbooks_source": {
        "type": "git",
        "url": "https://github.com/harvard-dce/mh-opsworks-recipes",
        "revision": "master"
      }
    },
    "layers": [
      {
        "name": "All in one",
        "shortname": "all-in-one",
        "type": "custom",
        "enable_auto_healing": false,
        "auto_assign_elastic_ips": true,
        "install_updates_on_boot": true,
        "auto_assign_public_ips": true,
        "custom_recipes": {
          "setup": [
            "mh-opsworks-recipes::install-utils",
            "mh-opsworks-recipes::install-mh-base-packages"
          ]
        },
        "instances": {
          "number_of_instances": 2,
          "instance_type": "t2.micro",
          "root_device_type": "ebs"
        }
      },
      {
        "name": "MySQL db",
        "shortname": "mysql-db",
        "enable_auto_healing": true,
        "install_updates_on_boot": true,
        "type": "db-master",
        "auto_assign_public_ips": true,
        "attributes": {
          "MysqlRootPasswordUbiquitous": "true"
        },
        "custom_recipes": {
          "setup": [
            "mh-opsworks-recipes::install-utils"
          ]
        },
        "instances": {
          "count": 1,
          "instance_type": "t2.micro",
          "root_device_type": "ebs"
        }
      }
    ],
    "app": {
      "shortname": "matterhorn",
      "name": "Matterhorn",
      "type": "other",
      "deployment": {
        "to_layers": ["All in one"],
        "custom_json": {
        }
      },
      "app_source": {
        "type": "git",
        "url": "FILL_ME_IN",
        "username": "FILL_ME_IN",
        "password": "FILL_ME_IN",
        "ssh_key": "FILL_ME_IN - You either use an SSH key or a user/pass combo",
        "revision": "FILL_ME_IN"
      }
    },
    "users": [
      {
        "user_name": "FILL_ME_IN",
        "level": "FILL_ME_IN: one of: deny show deploy manage iam_only",
        "allow_ssh": true,
        "allow_sudo": true,
        "ssh_public_key": "The public key for this user"
      }
    ]
  }
}
